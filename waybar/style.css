* {
    font-family: "JetBrainsMono NF Semibold", "Font Awesome 6 Free", FontAwesome, Roboto, Helvetica, Arial, sans-serif;
    font-size: 13px;
    font-weight: 600;
    margin: 0;
    padding: 0;
    transition-property: background-color;
    transition-duration: 0.3s;
    border: none;
    border-radius: 8px;
    min-height: 0;
}

/* The whole bar */
#waybar {
    background-color: transparent; /* was rgba(17, 24, 39, 0.95) */
    color: #e2e8f0;
    transition-property: background-color;
    transition-duration: 0.3s;
    border-radius: 12px;
    margin: 2px 8px;
    padding: 2px 8px;
    box-shadow: none; /* removed shadow for full transparency */
}

window#waybar.hidden {
    opacity: 0.2;
}

/* Workspaces */
#workspaces {
    background-color: rgba(30, 41, 59, 0.8);
    border-radius: 12px;
    padding: 2px 6px;       /* was 4px 6px */
    margin: 0 4px;
}

#workspaces button {
    padding: 4px 10px;      /* was 6px 10px */
    margin: 2px;
    border-radius: 8px;
    color: #94a3b8;
    background-color: rgba(51, 65, 85, 0.6);
    transition: all 0.3s ease-in-out;
    font-size: 12px;
    font-weight: 600;
}

#workspaces button.active {
    color: #ffffff;
    background: linear-gradient(135deg, #059669, #047857);
    box-shadow: 0 2px 8px rgba(5, 150, 105, 0.3);
}

#workspaces button:hover {
    background: rgba(71, 85, 105, 0.8);
    color: #f1f5f9;
}

#workspaces button.urgent {
    background-color: #dc2626;
    color: #ffffff;
    border: 1px solid rgba(220, 38, 38, 0.7);
    box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.25) inset;
}

/* Window title */
#window {
    background-color: rgba(30, 41, 59, 0.8);
    font-size: 13px;
    font-weight: 600;
    color: #e2e8f0;
    border-radius: 12px;
    padding: 3px 12px;      /* was 6px 12px */
    margin: 0 4px;
    min-width: 200px;
}

/* Common module styling */
#clock,
#battery,
#wireplumber,
#network,
#bluetooth,
#custom-power,
#custom-weather,
#custom-rofi,
#custom-notification,
#tray {
    background-color: rgba(30, 41, 59, 0.8);
    border-radius: 12px;
    padding: 3px 10px;      /* was 6px 12px */
    margin: 0 2px;
    color: #e2e8f0;
    font-weight: 600;
}

/* Clock */
#clock {
    color: #8b8a86;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.1));
    border: 1px solid rgba(251, 191, 36, 0.2);
}

/* Battery */
#battery {
    color: #60a5fa;
}

#battery.charging,
#battery.full,
#battery.plugged {
    color: #7b3019;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(16, 185, 129, 0.1));
}

#battery.critical:not(.charging) {
    color: #ef4444;
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
    border: 1px solid rgba(239, 68, 68, 0.6);
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2) inset;
}

/* Audio */
#wireplumber {
    color: #a78bfa;
    background: linear-gradient(135deg, rgba(167, 139, 250, 0.15), rgba(167, 139, 250, 0.1));
}

#wireplumber.muted {
    color: #6b7280;
    background: rgba(107, 114, 128, 0.1);
}

/* Network */
#network {
    color: #34d399;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(16, 185, 129, 0.1));
}

#network.disconnected {
    color: #ef4444;
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
}

/* Bluetooth */
#bluetooth {
    color: #89b4fa;
    background: linear-gradient(135deg, rgba(137, 180, 250, 0.15), rgba(116, 159, 255, 0.1));
}

#bluetooth.disconnected,
#bluetooth.off,
#bluetooth.disabled {
    color: #6c7086;
    background: rgba(107, 114, 128, 0.1);
}

#bluetooth.connected {
    color: #a6e3a1;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(16, 185, 129, 0.1));
}

/* Custom modules */
#custom-rofi {
    color: #f472b6;
    background: linear-gradient(135deg, rgba(244, 114, 182, 0.15), rgba(236, 72, 153, 0.1));
    font-size: 16px;
    padding: 3px 10px;      /* was 6px 10px */
}

#custom-rofi:hover {
    background: linear-gradient(135deg, rgba(244, 114, 182, 0.3), rgba(236, 72, 153, 0.2));
}

#custom-power {
    color: #ef4444;
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
    font-size: 16px;
    padding: 3px 10px;      /* was 6px 10px */
}

/* Notification module */
#custom-notification {
    color: #f9e2af;
    background: linear-gradient(135deg, rgba(249, 226, 175, 0.15), rgba(249, 226, 175, 0.1));
}

/* Weather module */
#custom-weather {
    color: #38bdf8;
    background: linear-gradient(135deg, rgba(56, 189, 248, 0.15), rgba(56, 189, 248, 0.1));
}

#custom-weather.severe { color: #fb7185; }
#custom-weather.sunnyDay { color: #fbbf24; }
#custom-weather.clearNight { color: #a78bfa; }
#custom-weather.cloudyFoggyDay,
#custom-weather.cloudyFoggyNight { color: #94a3b8; }
#custom-weather.rainyDay,
#custom-weather.rainyNight { color: #38bdf8; }
#custom-weather.snowyIcyDay,
#custom-weather.snowyIcyNight { color: #e2e8f0; }

/* System tray */
#tray {
    padding: 2px 8px;       /* was 4px 8px */
}

#tray > .passive {
    -gtk-icon-effect: dim;
}

#tray > .needs-attention {
    -gtk-icon-effect: highlight;
    background-color: #f59e0b;
    border-radius: 6px;
}

/* Keyboard state */
#keyboard-state {
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(16, 185, 129, 0.1));
    color: #34d399;
    padding: 2px 8px;       /* was 4px 8px */
    margin: 0 2px;
    border-radius: 8px;
    min-width: 16px;
}

#keyboard-state > label {
    padding: 0 4px;
}

#keyboard-state > label.locked {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
    border-radius: 4px;
}

/* Workspace margin fixes */
.modules-left > widget:first-child > #workspaces {
    margin-left: 0;
}

.modules-right > widget:last-child > #workspaces {
    margin-right: 0;
}

/* Focus state */
label:focus {
    background-color: rgba(59, 130, 246, 0.2);
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Media controls */
#custom-media {
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(16, 185, 129, 0.1));
    color: #061723;
    min-width: 100px;
}
#custom-lizzy {
    background: linear-gradient(135deg, rgba(139, 180, 250, 0.2), rgba(116, 159, 255, 0.1));
    color: #89b4fa;
    border: 1px solid rgba(139, 180, 250, 0.3);
    min-width: 120px;
    font-weight: 600;
}

#custom-lizzy:hover {
    background: linear-gradient(135deg, rgba(139, 180, 250, 0.3), rgba(116, 159, 255, 0.2));
    color: #a6b7ff;
}